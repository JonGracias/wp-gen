<VirtualHost *:443>
	ServerAdmin webmaster@localhost

	DocumentRoot /var/www/html

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	# Enable SSL
	SSLEngine on

	# Self-signed certificate (can be replaced with a valid certificate)
	SSLCertificateFile      /etc/ssl/certs/ssl-cert-snakeoil.pem
	SSLCertificateKeyFile   /etc/ssl/private/ssl-cert-snakeoil.key

	ScriptAlias /lua/ /app/remote.lua

    <Location /lua/>
        SetHandler fcgid-script
        Options +ExecCGI
    </Location>

	# Reverse Proxy for phpMyAdmin
    ProxyPass "phpmyadmin" "http://localhost:8080"
    ProxyPassReverse "phpmyadmin" "http://localhost:8080"

	<FilesMatch "\.(?:cgi|shtml|phtml|php)$">
		SSLOptions +StdEnvVars
	</FilesMatch>
	<Directory /usr/lib/cgi-bin>
		SSLOptions +StdEnvVars
	</Directory>
</VirtualHost>
